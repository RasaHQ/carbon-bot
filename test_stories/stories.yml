version: "2.0"
stories:

- story: SCENARIO CHECK
  steps:
  - intent: greet
  - action: utter_SCENARIOCHECK

- story: faq
  steps:
  - intent: faq
  - action: utter_faq
  - intent: thank
  - action: utter_express_positive-emo
  - intent: faq
  - action: utter_faq

- story: Story from conversation with b59c8f85-caea-4143-bae0-62421e93b664 on October 27th 2019
  steps:
  - intent: greet
  - action: utter_SCENARIOCHECK
  - intent: SCENARIO
#    entities:
#    - context_scenario: holiday
#    - holiday_name: thanksgiving
  - slot_was_set:
    - context_scenario: holiday
    - holiday_name: thanksgiving
  - action: action_start
  - slot_was_set:
    - link_1_url: https://rasa.com/carbon/index.html?&rasaxhost=http://localhost:5002&conversationId=b59c8f85-caea-4143-bae0-62421e93b664&destination=https://offset.climateneutralnow.org/allprojects&label=link-1-clicked
    - link_2_url: https://rasa.com/carbon/index.html?&rasaxhost=http://localhost:5002&conversationId=b59c8f85-caea-4143-bae0-62421e93b664&destination=https://offset.climateneutralnow.org/allprojects&label=link-2-clicked
  - action: action_disclaimer
  - action: utter_holiday-travel_offer_help
  - intent: why
  - slot_was_set:
    - context_scenario: holiday
    - holiday_name: thanksgiving
  - action: utter_explain_why_offset_travel
  - action: action_explain_typical_emissions
  - action: utter_ask_detailed_estimate
  - intent: affirm
  - action: airtravel_form
  - active_loop: airtravel_form
  - slot_was_set:
    - requested_slot: travel_flight_class
  - intent: affirm
  - action: airtravel_form
  - active_loop: airtravel_form
  - slot_was_set:
    - requested_slot: travel_flight_class
  - intent: why
  - action: utter_explain_economy_class
  - action: airtravel_form
  - slot_was_set:
    - requested_slot: travel_flight_class
  - intent: affirm
  - action: airtravel_form
  - slot_was_set:
    - travel_flight_class: economy
  - slot_was_set:
    - requested_slot: travel_departure
  - intent: inform
  - action: airtravel_form
  - slot_was_set:
    - travel_departure: Seattle
  - slot_was_set:
    - requested_slot: travel_destination
  - intent: inform
#    entities:
#    - city: Grand Rapids
#  - slot_was_set:
#    - city: Grand Rapids
  - action: airtravel_form
  - slot_was_set:
    - travel_destination: Grand Rapids
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_calculate_offsets
  - intent: express_surprise
  - action: utter_explain_offset_calculation
  - intent: thank
  - action: utter_express_positive-emo
  - action: utter_farewell

- story: interactive_story_1
  steps:
  - intent: greet
  - action: utter_SCENARIOCHECK
  - intent: SCENARIO
#    entities:
#    - context_scenario: holiday
#    - holiday_name: christmas
  - slot_was_set:
    - context_scenario: holiday
  - slot_was_set:
    - holiday_name: christmas
  - action: action_start
  - slot_was_set:
    - link_1_url: https://rasa.com/carbon/index.html?&rasaxhost=https://carbon.rasa.com&conversationId=3bc0234bd09447aaaaaa9beafa9550f3&destination=https://offset.climateneutralnow.org/allprojects&label=link-1-clicked
  - slot_was_set:
    - link_2_url: https://rasa.com/carbon/index.html?&rasaxhost=https://carbon.rasa.com&conversationId=3bc0234bd09447aaaaaa9beafa9550f3&destination=https://offset.climateneutralnow.org/allprojects&label=link-2-clicked
  - action: action_disclaimer
  - action: utter_holiday-travel_offer_help
  - intent: affirm
  - action: utter_explain_why_offset_travel
  - action: action_explain_typical_emissions
  - action: utter_ask_detailed_estimate
  - intent: affirm
  - action: airtravel_form
  - active_loop: airtravel_form
  - slot_was_set:
    - requested_slot: travel_flight_class
  - slot_was_set:
    - travel_flight_class: economy
  - slot_was_set:
    - requested_slot: travel_departure
#  - slot_was_set:
#    - city:
#      - Auckland
  - slot_was_set:
    - travel_departure: Auckland International Airport
  - slot_was_set:
    - iata_departure: AKL
  - slot_was_set:
    - requested_slot: travel_destination
#  - slot_was_set:
#    - city:
#      - Glasgow
  - slot_was_set:
    - travel_destination: Wokal Field Glasgow International Airport
  - slot_was_set:
    - iata_destination: GGW
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_calculate_offsets
  - intent: thank
  - action: utter_express_positive-emo
  - action: utter_farewell

- story: filling travel plan before airtravel_form
  steps:
  - intent: SCENARIO
#    entities:
#    - context_scenario: holiday
#    - holiday_name: thanksgiving
  - slot_was_set:
    - context_scenario: holiday
  - slot_was_set:
    - holiday_name: thanksgiving
  - action: action_start
  - slot_was_set:
    - link_1_url: '...'
  - slot_was_set:
    - link_2_url: '...'
  - action: action_disclaimer
  - action: utter_holiday-travel_offer_help
  - intent: inform
#    entities:
#    - city: berlin
#    - city: Madrid
#  - slot_was_set:
#    - city:
#      - berlin
#      - Madrid
  - action: airtravel_form
  - active_loop: airtravel_form
  - slot_was_set:
    - travel_departure: Berlin-Schönefeld Airport
  - slot_was_set:
    - travel_destination: Adolfo Suárez Madrid–Barajas Airport
  - slot_was_set:
    - iata_departure: SXF
  - slot_was_set:
    - iata_destination: MAD
  - slot_was_set:
    - requested_slot: travel_flight_class
  - slot_was_set:
    - travel_flight_class: economy
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_calculate_offsets

- story: stopover with via
  steps:
  - intent: greet
  - action: utter_SCENARIOCHECK
  - intent: SCENARIO
#    entities:
#    - context_scenario: holiday
#    - holiday_name: christmas
  - slot_was_set:
    - context_scenario: holiday
    - holiday_name: christmas
  - action: action_start
  - slot_was_set:
    - link_1_url: https://rasa.com/carbon/index.html?&rasaxhost=https://carbon.rasa.com&conversationId=3bc0234bd09447aaaaaa9beafa9550f3&destination=https://offset.climateneutralnow.org/allprojects&label=link-1-clicked
  - slot_was_set:
    - link_2_url: https://rasa.com/carbon/index.html?&rasaxhost=https://carbon.rasa.com&conversationId=3bc0234bd09447aaaaaa9beafa9550f3&destination=https://offset.climateneutralnow.org/allprojects&label=link-2-clicked
  - action: action_disclaimer
  - action: utter_holiday-travel_offer_help
  - intent: affirm
  - action: utter_explain_why_offset_travel
  - action: action_explain_typical_emissions
  - action: utter_ask_detailed_estimate
  - intent: affirm
  - action: airtravel_form
  - active_loop: airtravel_form
  - slot_was_set:
    - requested_slot: travel_flight_class
  - slot_was_set:
    - travel_flight_class: economy
  - slot_was_set:
    - requested_slot: travel_departure
#  - slot_was_set:
#    - city:
#      - Berlin
#      - Paris
#      - New York
  - slot_was_set:
    - travel_departure: Berlin-Schönefeld Airport
  - slot_was_set:
    - iata_departure: SXF
    - travel_destination: Charles de Gaulle International Airport
    - iata_destination: CDG
    - travel_stopover: John F Kennedy International Airport
    - iata_stopover: JFK
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_calculate_offsets
  - intent: thank
  - action: utter_express_positive-emo
  - action: utter_farewell

- story: stopover with second leg
  steps:
  - intent: greet
  - action: utter_SCENARIOCHECK
  - intent: SCENARIO
#    entities:
#    - context_scenario: holiday
#    - holiday_name: christmas
  - slot_was_set:
    - context_scenario: holiday
  - slot_was_set:
    - holiday_name: christmas
  - action: action_start
  - slot_was_set:
    - link_1_url: https://rasa.com/carbon/index.html?&rasaxhost=https://carbon.rasa.com&conversationId=3bc0234bd09447aaaaaa9beafa9550f3&destination=https://offset.climateneutralnow.org/allprojects&label=link-1-clicked
  - slot_was_set:
    - link_2_url: https://rasa.com/carbon/index.html?&rasaxhost=https://carbon.rasa.com&conversationId=3bc0234bd09447aaaaaa9beafa9550f3&destination=https://offset.climateneutralnow.org/allprojects&label=link-2-clicked
  - action: action_disclaimer
  - action: utter_holiday-travel_offer_help
  - intent: affirm
  - action: utter_explain_why_offset_travel
  - action: action_explain_typical_emissions
  - action: utter_ask_detailed_estimate
  - intent: affirm
  - action: airtravel_form
  - active_loop: airtravel_form
  - slot_was_set:
    - requested_slot: travel_flight_class
  - slot_was_set:
    - travel_flight_class: business
  - slot_was_set:
    - requested_slot: travel_departure
#  - slot_was_set:
#    - city:
#      - London
  - slot_was_set:
    - travel_departure: London Luton Airport
  - slot_was_set:
    - iata_departure: LTN
  - slot_was_set:
    - requested_slot: travel_destination
#  - slot_was_set:
#    - city:
#      - 'Madrid '
  - slot_was_set:
    - travel_destination: Adolfo Suárez Madrid–Barajas Airport
    - iata_destination: MAD
  - slot_was_set:
    - previous_entered_flight:
      - - London Luton Airport
        - LTN
      - - Adolfo Suárez Madrid–Barajas Airport
        - MAD
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_calculate_offsets
  - intent: inform
#    entities:
#    - city: Madrid
#    - city: New York
#  - slot_was_set:
#    - city:
#      - Madrid
#      - New York
  - action: airtravel_form
  - active_loop: airtravel_form
  - slot_was_set:
    - travel_departure: London Luton Airport
  - slot_was_set:
    - travel_destination: John F Kennedy International Airport
  - slot_was_set:
    - travel_stopover: Adolfo Suárez Madrid–Barajas Airport
  - slot_was_set:
    - iata_departure: LTN
  - slot_was_set:
    - iata_destination: JFK
  - slot_was_set:
    - iata_stopover: MAD
  - slot_was_set:
    - requested_slot: travel_flight_class
  - slot_was_set:
    - travel_flight_class: economy
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_calculate_offsets
